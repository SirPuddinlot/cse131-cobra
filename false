section .text
global our_code_starts_here
extern snek_error
our_code_starts_here:
  mov rax, 2
  mov [rsp - 8], rax
  mov rax, rdi
  mov rcx, rax
  or rcx, [rsp - 8]
  test rcx, 1
  jne error_invalid_argument
  add rax, [rsp - 8]
  jo error_overflow
  ret

error_overflow:
  mov rdi, 1
  call snek_error
  ret

error_invalid_argument:
  mov rdi, 2
  call snek_error
  ret
